I, [2014-08-21T11:12:13.694585 #2098]  INFO -- : localhost:11211 failed (count: 0) Errno::ECONNREFUSED: Connection refused - connect(2) for "localhost" port 11211
Run options: --seed 5154

# Running:

.......................................................................................................................................................................E.......E.................................................................E................................E.....FE.E..E.EFEE.......................EEFE..F.FE..E..F..F.FF.E.F.F..........................................................................................E...FEFEEF.F.FE............F..E...F....F..F..EE......................E.FE...E....EE...F.F...F.E..F..E.E.E.............F.....E.......................................................................................................................................................................................................................................................................EEEFEE.EE.EEEEEFEEEEEEEE.................................................................E.EEE...........EEEEE..........................F....FE...F.EE...E...F.FE.EE........FF.E...FFE.EEE.F.F...E.E..EF.E...EF................F........F....FFF.F..FF..F.FFFFFFFF..F.F.F.FFF.F.F.F.FF.F.F.FFF..F.FF...F..F...........F.............................................................................................................................................F......F..F...F.F.FF..E......E................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................F..............................................................................................................................................................................................................

Finished in 9.378345s, 280.5399 runs/s, 1319.9557 assertions/s.

  1) Error:
FilterTest#test_skipping_class_actions:
ActionController::UrlGenerationError: No route matches {:_recall=>{}, :action=>"show", :controller=>nil, :host=>"test.host", :port=>nil, :protocol=>"http://", :relative_url_root=>nil}
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:45:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:684:in `generate_extras'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:679:in `extra_keys'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:574:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/filters_test.rb:839:in `test_process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/filters_test.rb:625:in `test_skipping_class_actions'


  2) Error:
FilterTest#test_dynamic_dispatch:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/filters_test.rb:756:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/filters_test.rb:756:in `block in test_dynamic_dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/filters_test.rb:753:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/filters_test.rb:753:in `test_dynamic_dispatch'


  3) Error:
FlashTest#test_redirect_to_with_adding_flash_types:
ActionController::UrlGenerationError: No route matches {:_recall=>{}, :action=>"redirect_with_foo_flash", :controller=>nil, :host=>"test.host", :port=>nil, :protocol=>"http://", :relative_url_root=>nil}
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:45:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:684:in `generate_extras'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:679:in `extra_keys'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:574:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/flash_test.rb:218:in `test_redirect_to_with_adding_flash_types'


  4) Error:
HelperPathsTest#test_helpers_paths_priority:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:77:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:77:in `test_helpers_paths_priority'


  5) Failure:
ForceSSLOptionalSegmentsTest#test_force_ssl_redirects_to_same_format [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/force_ssl_test.rb:304]:
--- expected
+++ actual
@@ -1 +1 @@
-"https://test.host/en/foo"
+"https://test.host/en/foo?locale=en"



  6) Error:
HelperTest#test_base_helper_methods_after_clear_helpers:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:152:in `block in test_base_helper_methods_after_clear_helpers'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:151:in `test_base_helper_methods_after_clear_helpers'


  7) Error:
HelperTest#test_helper_for_acronym_controller:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:136:in `test_helper_for_acronym_controller'


  8) Error:
HelperTest#test_helper_for_nested_controller:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:128:in `test_helper_for_nested_controller'


  9) Error:
HelperTest#test_lib_helper_methods_after_clear_helpers:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:123:in `call_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:158:in `block in test_lib_helper_methods_after_clear_helpers'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:157:in `test_lib_helper_methods_after_clear_helpers'


 10) Failure:
IsolatedHelpersTest#test_helper_in_a [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:265]:
[ActionView::Template::Error] exception expected, not
Class: <RuntimeError>
Message: <"Missing rack.input">
---Backtrace---
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:255:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:255:in `call_controller'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:265:in `block in test_helper_in_a'
---------------


 11) Error:
IsolatedHelpersTest#test_helper_in_b:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:255:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:255:in `call_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:269:in `test_helper_in_b'


 12) Error:
IsolatedHelpersTest#test_helper_in_c:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:255:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:255:in `call_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/helper_test.rb:273:in `test_helper_in_c'


 13) Error:
HttpDigestAuthenticationTest#test_authentication_request_with_request-uri_ending_in_'?':
ActionController::RoutingError: No route matches [GET] "/http_digest_authentication_test/dummy_digest/?"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:270:in `encode_credentials'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:227:in `block in <class:HttpDigestAuthenticationTest>'


 14) Error:
HttpDigestAuthenticationTest#test_authentication_request_with_request-uri_that_doesn't_match_credentials_digest-uri:
ActionController::RoutingError: No route matches [GET] "/proxied/uri"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:144:in `block in <class:HttpDigestAuthenticationTest>'


 15) Failure:
HttpDigestAuthenticationTest#test_successful_authentication_with_http_authorization [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:57]:
Expected response to be a <success>, but was <401>


 16) Error:
HttpDigestAuthenticationTest#test_authentication_request_with_absolute_uri_in_both_request_and_credentials_(as_in_Webrick_with_IE):
ActionController::RoutingError: No route matches [GET] "/http_digest_authentication_test/dummy_digest"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:180:in `block in <class:HttpDigestAuthenticationTest>'


 17) Failure:
HttpDigestAuthenticationTest#test_authentication_request_with__method [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:203]:
Expected response to be a <success>, but was <401>


 18) Failure:
HttpDigestAuthenticationTest#test_successful_authentication_with_x_http_authorization [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:57]:
Expected response to be a <success>, but was <401>


 19) Error:
HttpDigestAuthenticationTest#test_authentication_request_with_request-uri_ending_in_'/':
ActionController::RoutingError: No route matches [GET] "/http_digest_authentication_test/dummy_digest"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:270:in `encode_credentials'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:215:in `block in <class:HttpDigestAuthenticationTest>'


 20) Error:
HttpDigestAuthenticationTest#test_authentication_request_with_absolute_uri_in_credentials_(as_in_IE)_ending_with_/:
ActionController::RoutingError: No route matches [GET] "/http_digest_authentication_test/dummy_digest"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:270:in `encode_credentials'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:239:in `block in <class:HttpDigestAuthenticationTest>'


 21) Failure:
HttpDigestAuthenticationTest#test_successful_authentication_with_x-http_authorization [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:57]:
Expected response to be a <success>, but was <401>


 22) Failure:
HttpDigestAuthenticationTest#test_authentication_request_with_valid_credential_and_nil_session [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:136]:
Expected response to be a <success>, but was <401>


 23) Failure:
HttpDigestAuthenticationTest#test_authentication_request_with_absolute_uri_in_credentials_(as_in_IE) [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:169]:
Expected response to be a <success>, but was <401>


 24) Failure:
HttpDigestAuthenticationTest#test_authentication_request_with_valid_credential [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:126]:
Expected response to be a <success>, but was <401>


 25) Error:
HttpDigestAuthenticationTest#test_authentication_request_with_absolute_request_uri_(as_in_webrick):
ActionController::RoutingError: No route matches [GET] "/http_digest_authentication_test/dummy_digest"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:156:in `block in <class:HttpDigestAuthenticationTest>'


 26) Failure:
HttpDigestAuthenticationTest#test_successful_authentication_with_redirect_x_http_authorization [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:57]:
Expected response to be a <success>, but was <401>


 27) Failure:
HttpDigestAuthenticationTest#test_authentication_request_with_password_stored_as_ha1_digest_hash [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/http_digest_authentication_test.rb:193]:
Expected response to be a <success>, but was <401>


 28) Error:
ActionController::LiveStreamTest#test_live_stream_default_header:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/live.rb:278:in `block in process'


 29) Failure:
ActionController::LiveStreamTest#test_exceptions_raised_handling_exceptions_and_committed [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:432]:
stream should be closed


 30) Error:
ActionController::LiveStreamTest#test_thread_locals_get_copied:
NoMethodError: undefined method `assert_equal' for nil:NilClass
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:154:in `thread_locals'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/live.rb:278:in `block in process'


 31) Failure:
ActionController::LiveStreamTest#test_exception_handling_html [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:386]:
Expected /Missing\ template\ test\/doesntexist/ to match "Processing by ActionController::LiveStreamTest::TestController#exception_in_view_after_commit as HTML\nCompleted 500 Internal Server Error in 0ms\n\nActionView::MissingTemplate (Missing template action_controller/live_stream_test/test/doesntexist with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:\n  * \"/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures\"\n):\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'\n  /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:174:in `exception_in_view_after_commit'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/live.rb:278:in `block in process'\n\n\n".


 32) Error:
ActionController::LiveStreamTest#test_ignore_client_disconnect:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/live.rb:278:in `block in process'


 33) Error:
ActionController::LiveStreamTest#test_abort_with_full_buffer:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:303:in `test_abort_with_full_buffer'


 34) Failure:
ActionController::LiveStreamTest#test_exception_handling_plain_text [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:401]:
Expected /Missing\ template\ test\/doesntexist/ to match "Processing by ActionController::LiveStreamTest::TestController#exception_in_view_after_commit as JSON\nCompleted 500 Internal Server Error in 0ms\n\nActionView::MissingTemplate (Missing template action_controller/live_stream_test/test/doesntexist with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:\n  * \"/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures\"\n):\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'\n  /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:174:in `exception_in_view_after_commit'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n  /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'\n  /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'\n  /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/live.rb:278:in `block in process'\n\n\n".


 35) Failure:
ActionController::LiveStreamTest#test_render_text [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:375]:
stream should be closed


 36) Failure:
ActionController::LiveStreamTest#test_exception_callback_when_committed [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/live_stream_test.rb:411]:
stream should be closed


 37) Error:
ActionController::LiveStreamTest#test_async_stream:
RuntimeError: Missing rack.input
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/request.rb:203:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/request.rb:302:in `POST'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/parameters.rb:14:in `parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/http/filter_parameters.rb:37:in `filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:22:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/live.rb:278:in `block in process'


 38) Failure:
ACLogSubscriberTest#test_with_fragment_cache [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/log_subscriber_test.rb:226]:
Expected: 4
  Actual: 2


 39) Error:
ACLogSubscriberTest#test_process_action_with_wrapped_parameters:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'name=jose'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/log_subscriber_test.rb:153:in `test_process_action_with_wrapped_parameters'


 40) Failure:
ACLogSubscriberTest#test_with_fragment_cache_unless_with_false [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/log_subscriber_test.rb:274]:
Expected: 4
  Actual: 2


 41) Failure:
ACLogSubscriberTest#test_with_fragment_cache_if_with_true [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/log_subscriber_test.rb:238]:
Expected: 4
  Actual: 2


 42) Failure:
ACLogSubscriberTest#test_with_fragment_cache_and_percent_in_key [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/log_subscriber_test.rb:286]:
Expected: 4
  Actual: 2


 43) Error:
StarStarMimeControllerTest#test_javascript_with_format:
ActionController::RoutingError: No route matches [GET] "/star_star_mime/index.js/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/accept_format_test.rb:14:in `test_javascript_with_format'


 44) Error:
MimeControllerLayoutsTest#test_non_navigational_format_with_no_template_fallbacks_to_html_template_with_no_layout:
ActionController::RoutingError: No route matches [GET] "/post/index.js/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/accept_format_test.rb:89:in `test_non_navigational_format_with_no_template_fallbacks_to_html_template_with_no_layout'


 45) Error:
RespondToControllerTest#test_variant_inline_syntax_without_block:
ActionView::MissingTemplate: Missing template respond_to/variant_inline_syntax_without_block with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:193:in `variant_inline_syntax_without_block'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:667:in `test_variant_inline_syntax_without_block'


 46) Failure:
RespondToControllerTest#test_variant_negotiation_block_syntax [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:775]:
Expected: "phone"
  Actual: "none"


 47) Error:
RespondToControllerTest#test_multiple_variants_for_format:
ActionView::MissingTemplate: Missing template respond_to/multiple_variants_for_format with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:167:in `multiple_variants_for_format'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:639:in `test_multiple_variants_for_format'


 48) Error:
RespondToControllerTest#test_variant_inline_any:
ActionView::MissingTemplate: Missing template respond_to/variant_any with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:201:in `variant_any'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:707:in `test_variant_inline_any'


 49) Error:
RespondToControllerTest#test_format_any_variant_any:
ActionView::MissingTemplate: Missing template respond_to/format_any_variant_any with {:locale=>[:en], :formats=>[:js, :html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:246:in `format_any_variant_any'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:759:in `test_format_any_variant_any'


 50) Error:
RespondToControllerTest#test_variant_negotiation_inline_syntax:
ActionView::MissingTemplate: Missing template respond_to/variant_inline_syntax_without_block with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:193:in `variant_inline_syntax_without_block'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:766:in `test_variant_negotiation_inline_syntax'


 51) Failure:
RespondToControllerTest#test_variant_any_any [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:697]:
Expected: "phone"
  Actual: "any"


 52) Failure:
RespondToControllerTest#test_variant_inline_any_any [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:726]:
Expected: "phone"
  Actual: "any"


 53) Failure:
RespondToControllerTest#test_variant_inline_syntax [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:662]:
Expected: "phone"
  Actual: "none"


 54) Error:
RespondToControllerTest#test_variant_with_implicit_rendering:
ActionView::MissingTemplate: Missing template respond_to/variant_with_implicit_rendering with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:625:in `test_variant_with_implicit_rendering'


 55) Failure:
RespondToControllerTest#test_render_action_for_html [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:582]:
Expected: "using_defaults - [:html]"
  Actual: "Hello world!"


 56) Error:
RespondToControllerTest#test_variant_any_implicit_render:
ActionView::MissingTemplate: Missing template respond_to/variant_any_implicit_render with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:233:in `variant_any_implicit_render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:736:in `test_variant_any_implicit_render'


 57) Error:
RespondToControllerTest#test_variant_any:
ActionView::MissingTemplate: Missing template respond_to/variant_any with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:201:in `variant_any'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:674:in `test_variant_any'


 58) Error:
RespondToControllerTest#test_variant_negotiation_without_block:
ActionView::MissingTemplate: Missing template respond_to/variant_inline_syntax_without_block with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}. Searched in:
  * "/home/guoxiang/work/rails-dev-box/rails/actionpack/test/fixtures"

    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/path_set.rb:46:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/lookup_context.rb:121:in `find'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/template_renderer.rb:8:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/renderer/renderer.rb:23:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:100:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:83:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:32:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/renderers.rb:37:in `render_to_body'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/rendering.rb:25:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:16:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
    /home/guoxiang/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:40:in `render'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/mime_responds.rb:228:in `respond_to'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:193:in `variant_inline_syntax_without_block'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:198:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rendering.rb:10:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/respond_to_test.rb:780:in `test_variant_negotiation_without_block'


 59) Failure:
ResponderTest#test_respond_with [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/responders_test.rb:25]:
[NoMethodError] exception expected, not
Class: <ActionController::UrlGenerationError>
Message: <"No route matches {:_recall=>{}, :action=>\"index\", :controller=>nil, :host=>\"test.host\", :port=>nil, :protocol=>\"http://\", :relative_url_root=>nil}">
---Backtrace---
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:45:in `generate'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:684:in `generate_extras'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:679:in `extra_keys'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:574:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/mime/responders_test.rb:26:in `block in test_respond_with'
---------------


 60) Error:
BareMetalTest::BareControllerTest#test_GET_index:
ActionController::UrlGenerationError: No route matches {:action=>"index", :relative_url_root=>nil}
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:45:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:732:in `url_for'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:706:in `path_for'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:576:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/new_base/bare_metal_test.rb:149:in `block in <class:BareControllerTest>'


 61) Error:
ParamsWrapperTest#test_derived_wrapped_keys_from_matching_model:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:163:in `block in test_derived_wrapped_keys_from_matching_model'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:161:in `test_derived_wrapped_keys_from_matching_model'


 62) Error:
ParamsWrapperTest#test_not_wrapping_abstract_model:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:187:in `block in test_not_wrapping_abstract_model'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:185:in `test_not_wrapping_abstract_model'


 63) Error:
ParamsWrapperTest#test_specify_both_wrapper_name_and_include_option:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:101:in `block in test_specify_both_wrapper_name_and_include_option'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:97:in `test_specify_both_wrapper_name_and_include_option'


 64) Failure:
ParamsWrapperTest#test_specify_format [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:129]:
--- expected
+++ actual
@@ -1 +1 @@
-{"username"=>"sikachu", "title"=>"Developer", "user"=>{"username"=>"sikachu", "title"=>"Developer"}}
+{"user"=>{}}



 65) Error:
ParamsWrapperTest#test_specify_wrapper_model:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:71:in `block in test_specify_wrapper_model'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:67:in `test_specify_wrapper_model'


 66) Error:
ParamsWrapperTest#test_derived_name_from_controller:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:51:in `block in test_derived_name_from_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:49:in `test_derived_name_from_controller'


 67) Error:
ParamsWrapperTest#test_specify_exclude_option:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:91:in `block in test_specify_exclude_option'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:87:in `test_specify_exclude_option'


 68) Error:
ParamsWrapperTest#test_filtered_parameters:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:43:in `block in test_filtered_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:41:in `test_filtered_parameters'


 69) Error:
ParamsWrapperTest#test_specify_wrapper_name:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:61:in `block in test_specify_wrapper_name'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:57:in `test_specify_wrapper_name'


 70) Error:
ParamsWrapperTest#test_no_double_wrap_if_key_exists:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'user[username]=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:144:in `block in test_no_double_wrap_if_key_exists'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:142:in `test_no_double_wrap_if_key_exists'


 71) Error:
ParamsWrapperTest#test_derived_wrapped_keys_from_specified_model:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:176:in `block in test_derived_wrapped_keys_from_specified_model'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:169:in `test_derived_wrapped_keys_from_specified_model'


 72) Error:
ParamsWrapperTest#test_nested_params:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'person[username]=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:152:in `block in test_nested_params'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:150:in `test_nested_params'


 73) Error:
ParamsWrapperTest#test_specify_include_option:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:81:in `block in test_specify_include_option'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:77:in `test_specify_include_option'


 74) Failure:
ParamsWrapperTest#test_not_enabled_format [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:110]:
--- expected
+++ actual
@@ -1 +1 @@
-{"username"=>"sikachu", "title"=>"Developer"}
+{}



 75) Error:
ParamsWrapperTest#test_not_wrap_reserved_parameters:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'authenticity_token=pwned&_method=put&utf8=%26%239731%3B&username=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:136:in `block in test_not_wrap_reserved_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:134:in `test_not_wrap_reserved_parameters'


 76) Error:
ParamsWrapperTest#test_wrap_parameters_false:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:118:in `block in test_wrap_parameters_false'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:115:in `test_wrap_parameters_false'


 77) Error:
NamespacedParamsWrapperTest#test_namespace_lookup_from_model:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:262:in `block in test_namespace_lookup_from_model'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:260:in `test_namespace_lookup_from_model'


 78) Error:
NamespacedParamsWrapperTest#test_derived_name_from_controller:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:252:in `block in test_derived_name_from_controller'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:250:in `test_derived_name_from_controller'


 79) Error:
NamespacedParamsWrapperTest#test_hierarchy_namespace_lookup_from_model:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&title=Developer'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:275:in `block in test_hierarchy_namespace_lookup_from_model'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:273:in `test_hierarchy_namespace_lookup_from_model'


 80) Error:
AnonymousControllerParamsWrapperTest#test_does_wrap_params_if_name_provided:
ArgumentError: comparison of Array with Array failed
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:42:in `sort'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:42:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:684:in `generate_extras'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:679:in `extra_keys'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:574:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:311:in `block in test_does_wrap_params_if_name_provided'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:308:in `test_does_wrap_params_if_name_provided'


 81) Error:
AnonymousControllerParamsWrapperTest#test_does_not_implicitly_wrap_params:
ArgumentError: comparison of Array with Array failed
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:42:in `sort'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:42:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:684:in `generate_extras'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:679:in `extra_keys'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:574:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:302:in `block in test_does_not_implicitly_wrap_params'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:300:in `test_does_not_implicitly_wrap_params'


 82) Error:
IrregularInflectionParamsWrapperTest#test_uses_model_attribute_names_with_irregular_inflection:
ActionDispatch::ParamsParser::ParseError: 795: unexpected token at 'username=sikachu&test_attr=test_value'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:53:in `rescue in parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:32:in `parse_formatted_parameters'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:23:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:347:in `block (2 levels) in test_uses_model_attribute_names_with_irregular_inflection'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:9:in `with_default_wrapper_options'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:345:in `block in test_uses_model_attribute_names_with_irregular_inflection'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:358:in `with_dup'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/params_wrapper_test.rb:340:in `test_uses_model_attribute_names_with_irregular_inflection'


 83) Error:
EtagRenderTest#test_array:
ActionController::RoutingError: No route matches [GET] "/test_controller_with_extra_etags/array"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_test.rb:410:in `test_array'


 84) Error:
MetalRenderTest#test_access_to_logger_in_view:
ActionController::UrlGenerationError: No route matches {:action=>"index", :relative_url_root=>nil}
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/formatter.rb:45:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:658:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:689:in `generate'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:732:in `url_for'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:706:in `path_for'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:576:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_test.rb:453:in `test_access_to_logger_in_view'


 85) Error:
EtagRenderTest#test_multiple_etags:
ActionController::RoutingError: No route matches [GET] "/test_controller_with_extra_etags/fresh"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_test.rb:400:in `test_multiple_etags'


 86) Error:
EtagRenderTest#test_etag_reflects_template_digest:
ActionController::RoutingError: No route matches [GET] "/test_controller_with_extra_etags/with_template"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_test.rb:419:in `test_etag_reflects_template_digest'


 87) Error:
RenderXmlTest#test_rendering_xml_should_call_to_xml_if_possible:
AbstractController::ActionNotFound: The action 'render_with_to_xml' could not be found for TestController
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:132:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_xml_test.rb:62:in `test_rendering_xml_should_call_to_xml_if_possible'


 88) Error:
RenderXmlTest#test_rendering_with_object_location_should_set_header_with_url_for:
AbstractController::ActionNotFound: The action 'render_with_object_location' could not be found for TestController
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:132:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_xml_test.rb:78:in `block in test_rendering_with_object_location_should_set_header_with_url_for'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/assertions/routing.rb:163:in `with_routing'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_xml_test.rb:72:in `test_rendering_with_object_location_should_set_header_with_url_for'


 89) Error:
RenderXmlTest#test_should_render_xml_but_keep_custom_content_type:
AbstractController::ActionNotFound: The action 'render_xml_with_custom_content_type' could not be found for TestController
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:132:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_xml_test.rb:89:in `test_should_render_xml_but_keep_custom_content_type'


 90) Error:
RenderXmlTest#test_rendering_with_location_should_set_header:
AbstractController::ActionNotFound: The action 'render_with_location' could not be found for TestController
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:132:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_xml_test.rb:57:in `test_rendering_with_location_should_set_header'


 91) Error:
RenderXmlTest#test_rendering_xml_should_call_to_xml_with_extra_options:
AbstractController::ActionNotFound: The action 'render_xml_with_custom_options' could not be found for TestController
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:132:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/render_xml_test.rb:67:in `test_rendering_xml_should_call_to_xml_with_extra_options'


 92) Failure:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_render_form_with_token_tag_if_remote_and_authenticity_token_requested [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:197]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


 93) Failure:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_render_form_with_token_tag [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:143]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


 94) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_not_allow_post_without_token_irrespective_of_format:
ActionController::RoutingError: No route matches [POST] "/request_forgery_protection_using_reset_session/index.xml/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:224:in `block in test_should_not_allow_post_without_token_irrespective_of_format'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:354:in `assert_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:224:in `test_should_not_allow_post_without_token_irrespective_of_format'


 95) Failure:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_emit_a_csrf-param_meta_tag_and_a_csrf-token_meta_tag [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:394]:
Expected /cf50faa3fe97702ca1ae&lt;=\?/ to match "<meta content=\"custom_authenticity_token\" name=\"csrf-param\" />\n<meta content=\"rVBsoZS6u5AyJYIv9tLPOdPimyKvGqgsGAkx0GRQ03QNvQ9UqIeIbKhl2ebFIHZEsiWzB8PcabhP9nEqWB7chQ==\" name=\"csrf-token\" />".


 96) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_allow_patch_with_token:
ActionController::RoutingError: No route matches [PATCH] "/request_forgery_protection_using_reset_session/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:248:in `block in test_should_allow_patch_with_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:248:in `test_should_allow_patch_with_token'


 97) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_not_allow_delete_without_token:
ActionController::RoutingError: No route matches [DELETE] "/request_forgery_protection_using_reset_session/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:56:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:484:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:236:in `block in test_should_not_allow_delete_without_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:354:in `assert_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:236:in `test_should_not_allow_delete_without_token'


 98) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_allow_delete_with_token:
ActionController::RoutingError: No route matches [DELETE] "/request_forgery_protection_using_reset_session/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:56:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:484:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:256:in `block in test_should_allow_delete_with_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:256:in `test_should_allow_delete_with_token'


 99) Failure:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_render_button_to_with_token_tag [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:150]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


100) Failure:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_render_form_with_token_tag_with_authenticity_token_requested [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:204]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


101) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_allow_patch_with_token_in_header:
ActionController::RoutingError: No route matches [PATCH] "/request_forgery_protection_using_reset_session/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:271:in `block in test_should_allow_patch_with_token_in_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:271:in `test_should_allow_patch_with_token_in_header'


102) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_not_allow_patch_without_token:
ActionController::RoutingError: No route matches [PATCH] "/request_forgery_protection_using_reset_session/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:228:in `block in test_should_not_allow_patch_without_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:354:in `assert_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:228:in `test_should_not_allow_patch_without_token'


103) Error:
RequestForgeryProtectionUsingResetSessionControllerTest#test_should_allow_delete_with_token_in_header:
ActionController::RoutingError: No route matches [DELETE] "/request_forgery_protection_using_reset_session/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:56:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:484:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:266:in `block in test_should_allow_delete_with_token_in_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:266:in `test_should_allow_delete_with_token_in_header'


104) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_not_allow_delete_without_token [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:236]:
[ActionController::InvalidAuthenticityToken] exception expected, not
Class: <ActionController::RoutingError>
Message: <"No route matches [DELETE] \"/request_forgery_protection_using_exception/index\"">
---Backtrace---
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:56:in `delete'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:484:in `delete'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:236:in `block in test_should_not_allow_delete_without_token'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:429:in `block in assert_blocked'
---------------


105) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_render_form_with_token_tag_with_authenticity_token_requested [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:204]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


106) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_put_with_token_in_header:
ActionController::InvalidAuthenticityToken: ActionController::InvalidAuthenticityToken
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:180:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:208:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:203:in `verify_authenticity_token'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:424:in `block in make_lambda'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `block in halting_and_conditional'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:50:in `put'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:478:in `put'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:276:in `block in test_should_allow_put_with_token_in_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:276:in `test_should_allow_put_with_token_in_header'


107) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_not_allow_post_without_token_irrespective_of_format [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:224]:
[ActionController::InvalidAuthenticityToken] exception expected, not
Class: <ActionController::RoutingError>
Message: <"No route matches [POST] \"/request_forgery_protection_using_exception/index.xml/index\"">
---Backtrace---
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:224:in `block in test_should_not_allow_post_without_token_irrespective_of_format'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:429:in `block in assert_blocked'
---------------


108) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_not_allow_patch_without_token [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:228]:
[ActionController::InvalidAuthenticityToken] exception expected, not
Class: <ActionController::RoutingError>
Message: <"No route matches [PATCH] \"/request_forgery_protection_using_exception/index\"">
---Backtrace---
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
/home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
/home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:228:in `block in test_should_not_allow_patch_without_token'
/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:429:in `block in assert_blocked'
---------------


109) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_post_with_token_in_header:
ActionController::InvalidAuthenticityToken: ActionController::InvalidAuthenticityToken
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:180:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:208:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:203:in `verify_authenticity_token'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:424:in `block in make_lambda'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `block in halting_and_conditional'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:261:in `block in test_should_allow_post_with_token_in_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:261:in `test_should_allow_post_with_token_in_header'


110) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_patch_with_token:
ActionController::RoutingError: No route matches [PATCH] "/request_forgery_protection_using_exception/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:248:in `block in test_should_allow_patch_with_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:248:in `test_should_allow_patch_with_token'


111) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_delete_with_token:
ActionController::RoutingError: No route matches [DELETE] "/request_forgery_protection_using_exception/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:56:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:484:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:256:in `block in test_should_allow_delete_with_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:256:in `test_should_allow_delete_with_token'


112) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_patch_with_token_in_header:
ActionController::RoutingError: No route matches [PATCH] "/request_forgery_protection_using_exception/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:271:in `block in test_should_allow_patch_with_token_in_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:271:in `test_should_allow_patch_with_token_in_header'


113) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_render_button_to_with_token_tag [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:150]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


114) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_render_form_with_token_tag_if_remote_and_authenticity_token_requested [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:197]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


115) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_put_with_token:
ActionController::InvalidAuthenticityToken: ActionController::InvalidAuthenticityToken
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:180:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:208:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:203:in `verify_authenticity_token'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:424:in `block in make_lambda'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `block in halting_and_conditional'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:50:in `put'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:478:in `put'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:252:in `block in test_should_allow_put_with_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:252:in `test_should_allow_put_with_token'


116) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_non_get_js_without_xhr_header:
ActionController::InvalidAuthenticityToken: ActionController::InvalidAuthenticityToken
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:180:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:208:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:203:in `verify_authenticity_token'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:424:in `block in make_lambda'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `block in halting_and_conditional'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:328:in `block in test_should_allow_non_get_js_without_xhr_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:371:in `block in assert_cross_origin_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:371:in `assert_cross_origin_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:328:in `test_should_allow_non_get_js_without_xhr_header'


117) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_delete_with_token_in_header:
ActionController::RoutingError: No route matches [DELETE] "/request_forgery_protection_using_exception/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:56:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:484:in `delete'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:266:in `block in test_should_allow_delete_with_token_in_header'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:266:in `test_should_allow_delete_with_token_in_header'


118) Failure:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_render_form_with_token_tag [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:143]:
Expected at least 1 element matching "form>input[name="custom_authenticity_token"][value="cf50faa3fe97702ca1ae"]", found 0..
Expected 0 to be >= 1.


119) Error:
RequestForgeryProtectionUsingExceptionControllerTest#test_should_allow_post_with_token:
ActionController::InvalidAuthenticityToken: ActionController::InvalidAuthenticityToken
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:180:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:208:in `handle_unverified_request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/request_forgery_protection.rb:203:in `verify_authenticity_token'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:424:in `block in make_lambda'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:142:in `block in halting_and_conditional'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:87:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rescue.rb:29:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/notifications.rb:164:in `instrument'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:137:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:38:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:466:in `post'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:244:in `block in test_should_allow_post_with_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `block in assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:360:in `assert_not_blocked'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:244:in `test_should_allow_post_with_token'


120) Error:
FreeCookieControllerTest#test_should_allow_all_methods_without_token:
ActionController::RoutingError: No route matches [PATCH] "/free_cookie/index"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:44:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:472:in `patch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:456:in `block (2 levels) in test_should_allow_all_methods_without_token'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/test_case.rb:53:in `assert_nothing_raised'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:456:in `block in test_should_allow_all_methods_without_token'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:455:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:455:in `test_should_allow_all_methods_without_token'


121) Failure:
CustomAuthenticityParamControllerTest#test_should_not_warn_if_form_authenticity_param_matches_form_authenticity_token [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/request_forgery_protection_test.rb:487]:
Expected: 0
  Actual: 1


122) Failure:
RescueControllerTest#test_rescue_handler_with_argument_as_string [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/rescue_test.rb:253]:
not all expectations were satisfied
unsatisfied expectations:
- expected exactly once, not yet invoked: #<RescueController:0x70c27e8>.show_errors()



123) Failure:
RescueControllerTest#test_rescue_handler_with_argument [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/rescue_test.rb:249]:
not all expectations were satisfied
unsatisfied expectations:
- expected exactly once, not yet invoked: #<RescueController:0x4fdf738>.show_errors()



124) Failure:
ResourcesTest#test_should_nest_resources_in_singleton_resource_with_path_scope [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:611]:
Error on route: account_path({:site_id=>"7", :controller=>"accounts"}).
Expected: "/7/account"
  Actual: "NoMethodError"


125) Failure:
ResourcesTest#test_nested_resources_in_nested_namespace [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:748]:
Error on route: backoffice_admin_product_images_path({:product_id=>"1", :controller=>"backoffice/admin/images"}).
--- expected
+++ actual
@@ -1 +1 @@
-"/backoffice/admin/products/1/images"
+"NoMethodError"



126) Failure:
ResourcesTest#test_multiple_with_path_segment_and_controller [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:780]:
Error on route: product_product_reviews_path({:product_id=>"1", :controller=>"messages"}).
Expected: "/products/1/reviews"
  Actual: "NoMethodError"


127) Failure:
ResourcesTest#test_with_two_member_actions_with_same_method [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:307]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


128) Failure:
ResourcesTest#test_should_create_nested_singleton_resource_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:536]:
Error on route: admin_path({:controller=>"admin"}).
Expected: "/admin"
  Actual: "NoMethodError"


129) Failure:
ResourcesTest#test_with_collection_actions_and_name_prefix [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:182]:
Error on route: thread_messages_path({:thread_id=>"1", :controller=>"messages"}).
Expected: "/threads/1/messages"
  Actual: "NoMethodError"


130) Failure:
ResourcesTest#test_with_name_prefix [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:128]:
Error on route: post_messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


131) Failure:
ResourcesTest#test_resources_using_namespace [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:718]:
Error on route: products_path({:controller=>"backoffice/products"}).
Expected: "/products"
  Actual: "NoMethodError"


132) Failure:
ResourcesTest#test_with_path_prefix [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:115]:
Error on route: messages_path({:thread_id=>"5", :controller=>"messages"}).
Expected: "/thread/5/messages"
  Actual: "NoMethodError"


133) Failure:
ResourcesTest#test_with_collection_actions_and_name_prefix_and_member_action_with_same_name [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:209]:
Error on route: thread_messages_path({:thread_id=>"1", :controller=>"messages"}).
Expected: "/threads/1/messages"
  Actual: "NoMethodError"


134) Failure:
ResourcesTest#test_nested_restful_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:438]:
Error on route: threads_path({:controller=>"threads"}).
Expected: "/threads"
  Actual: "NoMethodError"


135) Failure:
ResourcesTest#test_should_nest_singleton_resource_in_resources [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:624]:
Error on route: threads_path({:controller=>"threads"}).
Expected: "/threads"
  Actual: "NoMethodError"


136) Failure:
ResourcesTest#test_with_new_action [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:354]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


137) Failure:
ResourcesTest#test_override_paths_for_member_and_collection_methods [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:41]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


138) Failure:
ResourcesTest#test_with_new_action_with_name_prefix [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:376]:
Error on route: thread_messages_path({:thread_id=>"1", :controller=>"messages"}).
Expected: "/threads/1/messages"
  Actual: "NoMethodError"


139) Failure:
ResourcesTest#test_should_create_multiple_singleton_resource_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:523]:
Error on route: account_path({:controller=>"accounts"}).
Expected: "/account"
  Actual: "NoMethodError"


140) Failure:
ResourcesTest#test_resources_in_namespace [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:692]:
Error on route: backoffice_products_path({:controller=>"backoffice/products"}).
Expected: "/backoffice/products"
  Actual: "NoMethodError"


141) Failure:
ResourcesTest#test_member_when_override_paths_for_default_restful_actions_with [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:281]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


142) Failure:
ResourcesTest#test_singleton_resource_name_is_not_singularized [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:1052]:
Error on route: preferences_path({:controller=>"preferences"}).
Expected: "/preferences"
  Actual: "NoMethodError"


143) Failure:
ResourcesTest#test_multiple_default_restful_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:60]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


144) Failure:
ResourcesTest#test_should_create_singleton_resource_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:517]:
Error on route: account_path({:controller=>"accounts"}).
Expected: "/account"
  Actual: "NoMethodError"


145) Failure:
ResourcesTest#test_singleton_resource_with_member_action [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:556]:
Error on route: account_path({:controller=>"accounts"}).
Expected: "/account"
  Actual: "NoMethodError"


146) Failure:
ResourcesTest#test_resources_in_nested_namespace [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:706]:
Error on route: backoffice_admin_products_path({:controller=>"backoffice/admin/products"}).
Expected: "/backoffice/admin/products"
  Actual: "NoMethodError"


147) Failure:
ResourcesTest#test_with_collection_action_and_name_prefix_and_formatted [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:239]:
Error on route: thread_messages_path({:thread_id=>"1", :controller=>"messages"}).
Expected: "/threads/1/messages"
  Actual: "NoMethodError"


148) Failure:
ResourcesTest#test_with_path_segment [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:754]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


149) Failure:
ResourcesTest#test_new_style_named_routes_for_singleton_resource [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:677]:
Error on route: admin_account_path({:controller=>"accounts"}).
Expected: "/admin/account"
  Actual: "NoMethodError"


150) Failure:
ResourcesTest#test_default_restful_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:10]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


151) Failure:
ResourcesTest#test_with_collection_actions [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:152]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


152) Failure:
ResourcesTest#test_should_nest_resources_in_singleton_resource [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:596]:
Error on route: account_path({:controller=>"accounts"}).
Expected: "/account"
  Actual: "NoMethodError"


153) Failure:
ResourcesTest#test_new_style_named_routes_for_resource [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:660]:
Error on route: thread_messages_path({:thread_id=>"1", :controller=>"messages"}).
Expected: "/threads/1/messages"
  Actual: "NoMethodError"


154) Failure:
ResourcesTest#test_with_formatted_new_action_with_name_prefix [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:398]:
Error on route: thread_messages_path({:thread_id=>"1", :controller=>"messages"}).
Expected: "/threads/1/messages"
  Actual: "NoMethodError"


155) Failure:
ResourcesTest#test_multiple_with_path_prefix [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:121]:
Error on route: messages_path({:thread_id=>"5", :controller=>"messages"}).
Expected: "/thread/5/messages"
  Actual: "NoMethodError"


156) Failure:
ResourcesTest#test_shallow_nested_restful_routes [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:460]:
Error on route: threads_path({:controller=>"threads"}).
Expected: "/threads"
  Actual: "NoMethodError"


157) Failure:
ResourcesTest#test_singleton_resource_with_two_member_actions_with_same_method [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:580]:
Error on route: account_path({:controller=>"accounts"}).
Expected: "/account"
  Actual: "NoMethodError"


158) Failure:
ResourcesTest#test_shallow_nested_restful_routes_with_namespaces [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:487]:
Error on route: backoffice_admin_products_path({:controller=>"backoffice/admin/products"}).
Expected: "/backoffice/admin/products"
  Actual: "NoMethodError"


159) Failure:
ResourcesTest#test_with_member_action [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:256]:
Error on route: messages_path({:controller=>"messages"}).
Expected: "/messages"
  Actual: "NoMethodError"


160) Failure:
ResourcesTest#test_nested_resources_using_namespace [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/resources_test.rb:732]:
Error on route: backoffice_product_images_path({:product_id=>"1", :controller=>"backoffice/images"}).
--- expected
+++ actual
@@ -1 +1 @@
-"/backoffice/products/1/images"
+"NoMethodError"



161) Failure:
SendFileTest#test_send_file_without_content_disposition_header [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:179]:
Expected "attachment" to be nil.


162) Failure:
SendFileTest#test_send_file_content_type [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:192]:
--- expected
+++ actual
@@ -1 +1 @@
-"application/x-ruby"
+#<Mime::Type:0xXXXXXX @synonyms=[], @symbol=nil, @string="application/octet-stream">



163) Failure:
SendFileTest#test_send_data_status [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:186]:
Expected: 500
  Actual: 200


164) Failure:
SendFileTest#test_file_url_based_filename [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:72]:
--- expected
+++ actual
@@ -1 +1 @@
-"attachment"
+"attachment; filename=\"send_file_test.rb\""



165) Failure:
SendFileTest#test_file_stream [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:57]:
Expected #<ActionDispatch::Response::Buffer:0x000000049ecb50 @response=#<ActionDispatch::TestResponse:0x000000049ed3e8 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x000000049ed398>, @blank=false, @stream=#<ActionDispatch::Response::Buffer:0x000000049ecb50 ...>, @header={"Content-Disposition"=>"attachment; filename=\"send_file_test.rb\"", "Content-Transfer-Encoding"=>"binary", "Content-Type"=>"application/octet-stream", "Cache-Control"=>"private", "Content-Length"=>"6256"}, @status=200, @sending_file=false, @cv=#<MonitorMixin::ConditionVariable:0x000000049ecab0 @monitor=#<ActionDispatch::TestResponse:0x000000049ed3e8 ...>, @cond=#<Thread::ConditionVariable:0x000000049ec8f8>>, @committed=false, @sending=false, @sent=false, @content_type=#<Mime::Type:0x00000004c6dcf8 @synonyms=[], @symbol=nil, @string="application/octet-stream">, @charset="utf-8", @cache_control={:extras=>["private"]}, @etag=nil>, @buf=["# encoding: utf-8\nrequire 'abstract_unit'\n\nmodule TestFileUtils\n  def file_name() File.basename(__FILE__) end\n  def file_path() File.expand_path(__FILE__) end\n  def file_data() @data ||= File.open(file_path, 'rb') { |f| f.read } end\nend\n\nclass SendFileController < ActionController::Base\n  include TestFileUtils\n  include ActionController::Testing\n  layout \"layouts/standard\" # to make sure layouts don't interfere\n\n  attr_writer :options\n  def options\n    @options ||= {}\n  end\n\n  def file\n    send_file(file_path, options)\n  end\n\n  def data\n    send_data(file_data, options)\n  end\nend\n\nclass SendFileWithActionControllerLive < SendFileController\n  include ActionController::Live\nend\n\nclass SendFileTest < ActionController::TestCase\n  include TestFileUtils\n\n  def setup\n    @controller = SendFileController.new\n    @request = ActionController::TestRequest.new\n    @response = ActionController::TestResponse.new\n  end\n\n  def test_file_nostream\n    @controller.options = { :stream => false }\n    response = nil\n    assert_nothing_raised { response = process('file') }\n    assert_not_nil response\n    body = response.body\n    assert_kind_of String, body\n    assert_equal file_data, body\n  end\n\n  def test_file_stream\n    response = nil\n    assert_nothing_raised { response = process('file') }\n    assert_not_nil response\n    assert_respond_to response.stream, :each\n    assert_respond_to response.stream, :to_path\n\n    require 'stringio'\n    output = StringIO.new\n    output.binmode\n    output.string.force_encoding(file_data.encoding)\n    response.body_parts.each { |part| output << part.to_s }\n    assert_equal file_data, output.string\n  end\n\n  def test_file_url_based_filename\n    @controller.options = { :url_based_filename => true }\n    response = nil\n    assert_nothing_raised { response = process('file') }\n    assert_not_nil response\n    assert_equal \"attachment\", response.headers[\"Content-Disposition\"]\n  end\n\n  def test_data\n    response = nil\n    assert_nothing_raised { response = process('data') }\n    assert_not_nil response\n\n    assert_kind_of String, response.body\n    assert_equal file_data, response.body\n  end\n\n  def test_headers_after_send_shouldnt_include_charset\n    response = process('data')\n    assert_equal \"application/octet-stream\", response.headers[\"Content-Type\"]\n\n    response = process('file')\n    assert_equal \"application/octet-stream\", response.headers[\"Content-Type\"]\n  end\n\n  # Test that send_file_headers! is setting the correct HTTP headers.\n  def test_send_file_headers_bang\n    options = {\n      :type => Mime::PNG,\n      :disposition => 'disposition',\n      :filename => 'filename'\n    }\n\n    # Do it a few times: the resulting headers should be identical\n    # no matter how many times you send with the same options.\n    # Test resolving Ticket #458.\n    @controller.headers = {}\n    @controller.send(:send_file_headers!, options)\n    @controller.send(:send_file_headers!, options)\n    @controller.send(:send_file_headers!, options)\n\n    h = @controller.headers\n    assert_equal 'image/png', @controller.content_type\n    assert_equal 'disposition; filename=\"filename\"', h['Content-Disposition']\n    assert_equal 'binary', h['Content-Transfer-Encoding']\n\n    # test overriding Cache-Control: no-cache header to fix IE open/save dialog\n    @controller.send(:send_file_headers!, options)\n    @controller.response.prepare!\n    assert_equal 'private', h['Cache-Control']\n  end\n\n  def test_send_file_headers_with_disposition_as_a_symbol\n    options = {\n      :type => Mime::PNG,\n      :disposition => :disposition,\n      :filename => 'filename'\n    }\n\n    @controller.headers = {}\n    @controller.send(:send_file_headers!, options)\n    assert_equal 'disposition; filename=\"filename\"', @controller.headers['Content-Disposition']\n  end\n\n  def test_send_file_headers_with_mime_lookup_with_symbol\n    options = {\n      :type => :png\n    }\n\n    @controller.headers = {}\n    @controller.send(:send_file_headers!, options)\n\n    assert_equal 'image/png', @controller.content_type\n  end\n\n\n  def test_send_file_headers_with_bad_symbol\n    options = {\n      :type => :this_type_is_not_registered\n    }\n\n    @controller.headers = {}\n    assert_raise(ArgumentError) { @controller.send(:send_file_headers!, options) }\n  end\n\n  def test_send_file_headers_guess_type_from_extension\n    {\n      'image.png' => 'image/png',\n      'image.jpeg' => 'image/jpeg',\n      'image.jpg' => 'image/jpeg',\n      'image.tif' => 'image/tiff',\n      'image.gif' => 'image/gif',\n      'movie.mpg' => 'video/mpeg',\n      'file.zip' => 'application/zip',\n      'file.unk' => 'application/octet-stream',\n      'zip' => 'application/octet-stream'\n    }.each do |filename,expected_type|\n      options = { :filename => filename }\n      @controller.headers = {}\n      @controller.send(:send_file_headers!, options)\n      assert_equal expected_type, @controller.content_type\n    end\n  end\n\n  def test_send_file_with_default_content_disposition_header\n    process('data')\n    assert_equal 'attachment', @controller.headers['Content-Disposition']\n  end\n\n  def test_send_file_without_content_disposition_header\n    @controller.options = {:disposition => nil}\n    process('data')\n    assert_nil @controller.headers['Content-Disposition']\n  end\n\n  %w(file data).each do |method|\n    define_method \"test_send_\#{method}_status\" do\n      @controller.options = { :stream => false, :status => 500 }\n      assert_nothing_raised { assert_not_nil process(method) }\n      assert_equal 500, @response.status\n    end\n\n    define_method \"test_send_\#{method}_content_type\" do\n      @controller.options = { :stream => false, :content_type => \"application/x-ruby\" }\n      assert_nothing_raised { assert_not_nil process(method) }\n      assert_equal \"application/x-ruby\", @response.content_type\n    end\n\n    define_method \"test_default_send_\#{method}_status\" do\n      @controller.options = { :stream => false }\n      assert_nothing_raised { assert_not_nil process(method) }\n      assert_equal 200, @response.status\n    end\n  end\n\n  def test_send_file_with_action_controller_live\n    @controller = SendFileWithActionControllerLive.new\n    @controller.options = { :content_type => \"application/x-ruby\" }\n\n    response = process('file')\n    assert_equal 200, response.status\n  end\nend\n"], @closed=false> (ActionDispatch::Response::Buffer) to respond to #to_path.


166) Failure:
SendFileTest#test_send_data_content_type [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:192]:
--- expected
+++ actual
@@ -1 +1 @@
-"application/x-ruby"
+#<Mime::Type:0xXXXXXX @synonyms=[], @symbol=nil, @string="application/octet-stream">



167) Failure:
SendFileTest#test_send_file_status [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:186]:
Expected: 500
  Actual: 200


168) Error:
SendFileTest#test_send_file_with_action_controller_live:
ActionController::RoutingError: No route matches [GET] "/send_file_with_action_controller_live/file"
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/send_file_test.rb:206:in `test_send_file_with_action_controller_live'


169) Error:
ActionController::StreamingResponseTest#test_write_to_stream:
AbstractController::ActionNotFound: The action 'basic_stream' could not be found for TestController
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/abstract_controller/base.rb:132:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionview/lib/action_view/rendering.rb:30:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:195:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/metal.rb:236:in `block in action'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:72:in `dispatch'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:41:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:43:in `block in serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `each'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/journey/router.rb:30:in `serve'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/routing/route_set.rb:750:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-1.6.0.beta/lib/rack/head.rb:13:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/flash.rb:257:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/cookies.rb:558:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
    /home/guoxiang/work/rails-dev-box/rails/activesupport/lib/active_support/callbacks.rb:83:in `run_callbacks'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/abstract_unit.rb:137:in `call'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/mock_session.rb:30:in `request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:230:in `process_request'
    /home/guoxiang/.rvm/gems/ruby-2.1.1/gems/rack-test-0.6.2/lib/rack/test.rb:123:in `request'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:297:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:32:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_dispatch/testing/integration.rb:336:in `block (2 levels) in <module:Runner>'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:585:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:64:in `process'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/lib/action_controller/test_case.rb:460:in `get'
    /home/guoxiang/work/rails-dev-box/rails/actionpack/test/controller/streaming_test.rb:22:in `test_write_to_stream'


170) Failure:
TestRequestTest#test_sane_defaults [/home/guoxiang/work/rails-dev-box/rails/actionpack/test/dispatch/test_request_test.rb:7]:
Expected: "GET"
  Actual: nil

2631 runs, 12379 assertions, 88 failures, 82 errors, 0 skips
