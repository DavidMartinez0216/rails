exclude :test_schema_dumping, <<~MSG
  Failure
  Expected /t\.virtual\s+"profile_email",\s+type: :string,\s+as: "json_extract\(`profile`,\w*?'\$\.email'\)", stored: true$/i to match "# This file is auto-generated from the current state of the database. Instead\n# of editing this file, please use the migrations feature of Active Record to\n# incrementally modify your database, and then regenerate this schema definition.\n#\n# This file is the source Rails uses to define your schema when running `bin/rails\n# db:schema:load`. When creating a new database, `bin/rails db:schema:load` tends to\n# be faster and is potentially less error prone than running all of your\n# migrations from scratch. Old migrations may fail to apply correctly if those\n# migrations use external dependencies or application code.\n#\n# It's strongly recommended that you check this file into your version control system.\n\nActiveRecord::Schema[7.1].define(version: 0) do\n  create_table \"virtual_columns\", charset: \"utf8mb4\", collation: \"utf8mb4_bin\", force: :cascade do |t|\n    t.string \"name\"\n    t.virtual \"upper_name\", type: :string, as: \"upper(`name`)\"\n    t.virtual \"name_length\", type: :integer, as: \"length(`name`)\", stored: true\n    t.virtual \"name_octet_length\", type: :integer, as: \"octet_length(`name`)\", stored: true\n    t.json \"profile\"\n    t.virtual \"profile_email\", type: :string, as: \"json_extract(`profile`, _utf8mb4'$.email')\", stored: true\n  end\n\nend\n".
MSG
